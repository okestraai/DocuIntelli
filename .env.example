# ═══════════════════════════════════════════════════════════════
# DocuIntelli Environment Variables
# ═══════════════════════════════════════════════════════════════
#
# BUILD-TIME vars (VITE_ prefix) are baked into the frontend JS
# bundle by Vite. Changing them requires a Docker image rebuild:
#   docker compose build web
#
# RUNTIME vars are read by the Express server at startup.
# Changing them only requires a container restart:
#   docker compose restart web
#
# ═══════════════════════════════════════════════════════════════

# ─── Server ──────────────────────────────────────────────────
PORT=5000

# ─── Supabase (BUILD-TIME — baked into frontend) ────────────
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# ─── Supabase (RUNTIME — server-side only) ──────────────────
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ─── Stripe (BUILD-TIME — price IDs used in frontend) ───────
VITE_STRIPE_STARTER_PRICE_ID=price_xxxxxxxxxxxxx
VITE_STRIPE_PRO_PRICE_ID=price_xxxxxxxxxxxxx

# ─── Stripe (RUNTIME — server-side) ─────────────────────────
STRIPE_SECRET_KEY=sk_live_xxxxx
# Optional: Yearly Stripe Price IDs (if not set, yearly = monthly × 10)
# STRIPE_STARTER_YEARLY_PRICE_ID=price_xxxxxxxxxxxxx
# STRIPE_PRO_YEARLY_PRICE_ID=price_xxxxxxxxxxxxx

# ─── vLLM API (RUNTIME) ─────────────────────────────────────
VLLM_EMBEDDER_URL=https://embedder.affinityecho.com
VLLM_CHAT_URL=https://chat.affinityecho.com
CF_ACCESS_CLIENT_ID=your-cloudflare-access-client-id
CF_ACCESS_CLIENT_SECRET=your-cloudflare-access-client-secret

# ─── Local Embedding Fallback (RUNTIME, optional) ───────────
EMBEDDING_API_URL=http://localhost:8001/v1/embeddings
EMBEDDING_MODEL=intfloat/e5-mistral-7b-instruct
EMBEDDING_DIMENSIONS=4096

# ─── Email / Mailjet SMTP (RUNTIME) ─────────────────────────
SMTP_HOST=in-v3.mailjet.com
SMTP_PORT=587
SMTP_USER=your-mailjet-api-key
SMTP_PASS=your-mailjet-secret-key
FROM_EMAIL=your-from-email@example.com
FROM_NAME=DocuIntelli AI
SUPPORT_EMAIL=your-support-email@example.com
APP_URL=https://app.yourdomain.com

# ─── OTP Encryption (RUNTIME) ───────────────────────────────
# Generate with: openssl rand -hex 32
OTP_ENCRYPTION_KEY=your-64-char-hex-key-here

# ─── CORS (RUNTIME) ─────────────────────────────────────────
# Comma-separated production domains
ALLOWED_ORIGINS=https://app.yourdomain.com
# Edge Function CORS origin
ALLOWED_ORIGIN=https://app.yourdomain.com

# ─── Plaid Financial Insights (RUNTIME) ──────────────────────
PLAID_CLIENT_ID=your-plaid-client-id
PLAID_SECRET=your-plaid-secret
PLAID_ENV=sandbox

# ─── Redis (RUNTIME, Docker-managed) ────────────────────────
# In Docker Compose, REDIS_URL is overridden to redis://redis:6379
# For local dev without Docker, leave unset (falls back to in-memory)
# REDIS_URL=redis://localhost:6379

# ─── IBM Cloud Object Storage (RUNTIME, optional) ───────────
# IBM_COS_ACCESS_KEY_ID=your-ibm-cos-access-key-id
# IBM_COS_SECRET_ACCESS_KEY=your-ibm-cos-secret-access-key
# IBM_COS_BUCKET=your-bucket-name
# IBM_COS_ENDPOINT=https://s3.us-south.cloud-object-storage.appdomain.cloud
# IBM_COS_REGION=us-south
